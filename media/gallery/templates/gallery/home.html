{% extends "gallery/base.html" %}
{% block title %}MediaHub â€“ Home{% endblock %}
{% block content %}
<h1>Gallery</h1>

<form method="get" class="search">
  <input type="text" name="q" placeholder="Search title..." value="{{ q }}">
  <button type="submit">Search</button>
</form>

<div class="grid">
  {% for item in items %}
    <a class="card" href="{% url 'gallery:detail' item.slug %}">
      {% if item.media_type == "image" and item.thumbnail %}
        <img src="{{ item.thumbnail.url }}" alt="{{ item.title }}">
      {% elif item.media_type == "image" %}
        <img src="{{ item.file.url }}" alt="{{ item.title }}">
      {% elif item.media_type == "audio" %}
        <div class="placeholder">ðŸŽµ Audio</div>
      {% elif item.media_type == "video" %}
        <div class="placeholder">ðŸŽ¬ Video</div>
      {% else %}
        <div class="placeholder">ðŸ“„ File</div>
      {% endif %}
      <div class="meta">
        <h3>{{ item.title }}</h3>
        <small>{{ item.media_type|title }} â€¢ {{ item.created_at|date:"M d, Y" }}</small>
      </div>
    </a>
  {% empty %}
    <p>No media yet. <a href="{% url 'gallery:upload' %}">Upload one</a>.</p>
  {% endfor %}
</div>
{% endblock %}
